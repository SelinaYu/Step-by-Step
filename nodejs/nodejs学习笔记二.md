# nodejs学习笔记二

标签（空格分隔）： nodejs

---
学习node时，接触到TCP协议的一些基本知识。
传输控制协议（TCP）:是一个面向连接的协议，保证了两台计算机之间数据传输的可靠性和顺序。TCP是一种传输层协议，可以将客户端和服务器端的通信看作一个连接和数据流。
<h3>TCP的特性</h3>
**面向连接的通信和保证顺序的传递**
IP是基于数据报的传输，这些数据报是独立进行传输的，送达的顺序也是无序的。
当使用TCP/IP和服务器建立连接后，之所以能让数据报送达时是有序的，是因为当在TCP连接内进行数据传递是，发送的IP数据报包含了标识该连接以及数据流顺序的信息。
**面向字节**
TCP对字符以及字符编码是完全无知的。所以TCP允许数据以ASCII字符（每个字符一个字节）或者Unicode（每个字符四个字节）
**可靠性**
由于TCP是基于底层不可靠的服务，因此，它必须要基于确认和超时实现一系列的机制来达到可靠性的要求。
当数据发送出去后，发送方就会等待一个确认信息（表示数据报已经收到的简短确认信息）。如果超时，发送方就会对数据重发。这种机制有效解决了如网络错误
**流控制**
TCP会通过一种叫流控制的方式来确保两点之间传输数据的平衡。
**拥堵控制**
TCP有一种内置的机制能够控制数据包的延迟率及丢包率不会太高，以此来确保服务的质量（QoS）
<h3>Telnet</h3>
Telnet是一个早期的网路协议，旨在提供双向的虚拟终端。它是TCP协议上层的协议。如今大部分主流的操作系统都内置了telnet客户端。telnet允许在终端手动建立一个TCP链接。

<h3>ANSI转义码</h3>
`console.log('\033[90m new connection!\033[39m');`

- \033表示转义序列的开始
-  [表示开始颜色设置
-  90表示前景色为亮灰色
-  m表示颜色设置结束

<h3>HTTP</h3>
超文本传输协议，又称http。TCP和HTTP有个本质的区别，就是回调函数中对象的类型。net服务器中，是个连接（connection）对象，而HTTP服务器中，则是请求和响应对象。
**头信息**
HTTP协议在请求和响应消息前使用头信息来描述不同消息内容。
`Content-Type`表示发送内容的类型，默认为`text/plain`,也就是普通文本类型。
`Transfer-Encoding`传输编码，默认值是`chunked`，主要原因是Node的异步机制。
