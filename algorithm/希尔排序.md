# 希尔排序

希尔排序是插入排序的改进版,和插入排序不同的是，它会优先比较较远的元素，希尔排序又叫缩小增量排序。希尔排序是把记录按下标的一定增量分组，对每组使用直接插入排序算法排序；随着增量逐渐减少，每组包含的关键词越来越多，当增量减至1时，整个文件恰被分成一组，算法便终止。

```javascript
function shellSort(arr) {
    for (let gap = Math.floor(arr.length/2); gap > 0; gap = Math.floor(gap/2)){ // 增量gap，并逐步缩小增量
        for(let i = gap; i < arr.length;i++){
          let j = i;
          while(j - gap >= 0 && arr[j] < arr[j - gap]) { // 对分组后的每组元素进行直接插入
               let temp = arr[j];
               arr[j] = arr[j - gap];
               arr[j-gap] = temp;

               j -= gap;
          }
        }
    }
    return arr;
}
```

### 思路分析

1) 选择增量为gap = arr.length/2,缩小增量采用的也是 gap = gap/2;按照增量进行分组，如序列{length/2,length/4,length/8...1}
2) 对每个分组进行插入排序，分组是交替进行插入排序的（不是一组插入排序再进行另一组插入排序）

希尔排序属于不稳定排序，时间复杂度和选择的增量有关。增量为length/2的情况，平均时间复杂度比O(n2)好一点，为O(n1.3),最好的情况为O(N),最差的情况为O(n2)