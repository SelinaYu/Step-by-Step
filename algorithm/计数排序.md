# 计数排序

```javascript
function countSort(arr){
  let length = arr.length;
  let Count = [];
  let Result = [];
  let max = arr[0];
  let min = arr[0];
  /*查找最大最小值,并将arr数置入Count数组中,统计出现次数*/
  for(let i = 0; i < length;i++) {
    Count[arr[i]] = Count[arr[i]] ? Count[arr[i]]+1 : 1;
    min = arr[i] <= min ? arr[i] : min;
    max = arr[i] >= max ? arr[i] : max;
  }
  //从最小值到最大值，将计数项相加(相加后项的值为结果Result对应的下标，项的下标为Result对应的值)
  for(let j = min;j < max;j++) {
      Count[j + 1] = (Count[j] || 0) + (Count[j+1] || 0);
  }
  /*Count中,下标为arr数值,数据为arr数值出现次数;反向填充数据进入Result数据*/
  for(let k = length - 1; k >= 0; k--) {
      Result[Count[arr[k]]-1] = arr[k];
      Count[arr[k]]--;
  }
  return Result;
}
```
### 步骤

1)查找待排序数组中最大和最小的元素

2)统计每个值为i的元素的出现次数

3)对所有计数开始累加(从min开始,每一项和前一项相加)

4)反向填充目标数组,将每个元素i放在新数组的第C[i]项,每放一个元素,计数-1.


```javascript
// 简单粗暴版
function countSort(arr) {
    let Count = [];
    let index = 0;
    for(let i = 0; i < arr.length;i++) {  // 统计每个值出现的个数
      Count[arr[i]] =  Count[arr[i]] ? Count[arr[i]]+1 : 1;
    }
    for(let j = 0; j < Count.length;j++) { // 直接从0开始遍历，未和上面一样从范围区间取值
       while(Count[j] > 0){  // 直接遍历Count，按顺序重新构建有序序列arr
           arr[index++] =  j;
           Count[j]--;
       }
    }
    return arr;
}

```

### 思路分析

计数排序是对已知数量范围的数组进行排序，创建一个长度为这个数据范围的额外数组C，其中，C中每个元素记录的是待排序数组中对应元素的个数(第i个元素的值是待排序数组中值为i的元素个数)，然后根据数组C来进行排序。