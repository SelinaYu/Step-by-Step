# 桶排序

```javascript
function bucketSort(arr,bucketCount){
    let minValue = arr[0];
    let maxValue = arr[0];
    let buckets = [];
    let result = [];
    for(let i = 1; i < arr.length; i++) {
      minValue = minValue <= arr[i] ? minValue : arr[i];
      maxValue = maxValue > arr[i] ? maxValue : arr[i]; 
    }
    // 桶的大小
    let bucketSize = Math.floor((maxValue - minValue)/bucketCount) + 1;
        // 将数值装入桶中
    for(let i = 0; i < arr.length;i++) {
      let index = Math.floor((arr[i] - minValue)/bucketSize); // 找到数值对应的桶序列
      if(buckets[index]) {
          let bucket = buckets[index];
          let k = bucket.length - 1;
          while( k>=0 && arr[i] < bucket[k]) { // 桶内进行插入排序
              bucket[k+1] = bucket[k];
              k--;
          }
          bucket[k+1] = arr[i];
      } else {
          // 桶未初始化
          buckets[index] = [];
          buckets[index].push(arr[i])
      }
    }
      // 合并数组
      for(let i = 0;i < bucketCount;i++){
          if(buckets[i]){
            result = result.concat(buckets[i])
          }
      }
      return result;
}
```

### 步骤

1) 设置一定量的数组当作空桶
2) 遍历输入数据，并把数据放到对应的桶里
3) 对每个不是空的桶进行排序
4) 从不是空的桶里把排好序的数据拼接起来

### 思路分析

假设输入数据服从均匀分布,将数据分到有限数量的桶里，每个桶再分别排序(桶里的排序可以是其他排序，这里采用了插入排序)